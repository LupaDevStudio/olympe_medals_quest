#:kivy 2.2.1

<CharacterButton>:
    # Background
    canvas.before:
        Color:
            rgba: self.background_color
        Rectangle:
            pos: (0, 0)
            size: self.size

    # Line
    canvas.after:
        Color:
            rgba: self.line_color
        Line:
            rectangle: (self.x, self.y, self.width, self.height)
            width: self.outline_width * self.font_ratio

    # Character image
    Image:
        id: image
        source: root.image_source
        pos_hint: {"center_x": 0.5, "y": 0}
        size_hint: (None, 0.9)
        width: self.height

    # Icon
    Image:
        id: icon
        source: root.icon_source
        color: root.icon_color
        pos_hint: root.icon_position
        size_hint: (None, 0.3)
        width: self.height
        opacity: 1 if root.icon_mode else 0
