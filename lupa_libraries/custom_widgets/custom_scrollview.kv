#:kivy 2.2.1
#:set BACKGROUND_MARGIN 16

<CustomScrollview>:

    bar_margin: 0
    scroll_type:['bars', 'content']
    scroll_distance: 10

<OlympeScrollView>:

    canvas.before:
        Color:
            rgba: COLORS.transparent_black
        Rectangle:
            pos: (-BACKGROUND_MARGIN//2*self.font_ratio, 0)
            size: (BACKGROUND_MARGIN*self.font_ratio + self.size[0], self.size[1])

        Color:
            rgba: COLORS.white if self.header_mode else COLORS.transparent
        Line:
            points: [0, self.height - self.header_height*self.font_ratio, self.width, self.height - self.font_ratio * self.header_height]
            width: LARGE_OUTLINE_WIDTH*root.font_ratio

    Label:
        id: label
        text: root.header_text
        font_size: root.font_ratio * root.font_size
        font_name: root.text_font_name
        pos_hint: {"x": 0.025}
        y: root.height - root.header_height//2*root.font_ratio - self.height//2
        shorten: False
        size_hint: (None, None)
        size: self.texture_size
        halign: "left"
        valign: "middle"
        color: root.font_color

    IconPressedButton:
        icon_source: root.icon_source
        size_hint: (None, None)
        height: root.header_height * 0.65
        width: self.height
        pos_hint: {"right": 0.975}
        y: root.height - root.header_height//2*root.font_ratio - self.height//2
        font_ratio: root.font_ratio
        size_hint_y_icon: 0.6
        release_function: root.icon_function
        opacity: 1 if root.icon_mode else 0
